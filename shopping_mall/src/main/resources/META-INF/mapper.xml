<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.AdminMapper">

    <select id="adminIdCheckMapper" parameterType="String" resultType="int">
        SELECT COUNT(*) FROM admin_info WHERE admin_id = #{id}
    </select>
    
	<insert id="createAdminMapper">
	    INSERT INTO admin_info (admin_id, admin_pw, admin_name, admin_email, admin_tel, admin_part, admin_position, join_date)
	    VALUES (#{admin_id}, #{admin_pw}, #{admin_name}, #{admin_email}, #{admin_tel}, #{admin_part}, #{admin_position}, now())
	</insert>
	
	<select id="getAdminMapper" resultType="Map">
		SELECT *, DATE_FORMAT(join_date, '%Y-%m-%d') AS formatted_join_date FROM admin_info WHERE admin_id != 'master';
	</select>
	
	<select id="adminLoginMapper" parameterType="String" resultType="Map">
		SELECT admin_pw, permission FROM admin_info WHERE admin_id = #{id}
	</select>
    
</mapper>
